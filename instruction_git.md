# **Инструкция по использованию контроля версий Git**

## Что такое Git?

![Эмблема git](150171675-45d9b808-e847-457c-8b8c-e5b24a324d85.png)

Программа Git - это

## Инициализация репозитория
Чтобы инициализировать (создать) новый репозиторий нужно ввести в терминале команду:

    git init

## Проверка соостояния репозитория

Чтобы проверить состояние репозитория нужно использовать команду:

    git log

Так же можно вызвать проверку состояния репозитория в сокращенном виде:

    git log --oneline

При вводе этой команды выйдет список состоящий из сокращенных hash - сумм и коммитов

Чтобы вывести полный список коммитов с отображением веток необходимо ввести команду:

    git log --all --oneline --graph<>

## Сохранение внесенных изменений

Изменения в текстовом файле сохраняются с помощью сочетания клавиш **ctrl + s**

## Добавление изменений в индекс

Чтобы добавить изменения в индекс для следующего коммита нужно ввести команду:

    git add <file name>
    
## Проверка текущего состояния

Чтобы проверить текущее состояние файла нужно ввести команду:

    git status
## Фиксирование изменения в файле и комментарий к нему:
Добавлять комментрарий к изменению нужно для упрощения поиска конкретного изменения. Для фиксации изменения и добавления комментария используется команда:

    git commit -m "message"    
Так же можно использовать команду которая и внесет изменения и добавит комментарий:

    git commit -am "message"

## Вывод в текстовый редактор конкретного коммита:

Чтобы перейти к нужному коммиту требуется сначала запросить проверку состояния репозитория командой: **git log --oneline** чтобы видеть hash-суммы коммитов и ввести команду: 

    git checkout <hash>

hash-сумму можно скопировать или переписать вручную.

В текстовом редакторе откроется именно тот коммит, который принадлежит введенной hash-сумме.

Если потом ввести команду **git log --oneline** выйдет список коммитов начиная с того, который мы открывали.

Чтобы восстановить полный список коммитов необходимо ввести команду:

    git log --oneline --all


## Возврат к актуальной версии файла:

Чтобы вернуться к той версии, которая редактировалась следует ввести команду:

    git checkout master
    
## Вывод разницы между версией в текстовом редакторе и коммитом:

Чтобы выяснить, какие различия есть между записанной в текстовом редакторе версией и последним коммитом нужно ввести команду:
    git diff
В терминале появится список внесенных изменений. 

## Вывод изменений между двумя коммитами:
Чтобы узнать какие изменения были произведены между двумя коммитами используется команда:

    git diff <hash1> <hash2>

После вывода команды появится список изменений одного коммита относительно другого.    

## Ветвление 

Ветвление необходимо, в основном, для того, чтобы разные люди могли вносить изменения каждый в свой блок работы и потом удобно собирать все в один файл

Команды, необходимые для работы с ветками:

    git branch - открывает список всех имеющихся веток
    git branch <branch_name> - создание новой ветки
    git checkout <branch_name> - переход к ветке с заданным именем

При вызове списка веток (**git branch**) - ветка, на которой находится пользователь помечается *


### Слияние

Чтобы сделать слияние веток нужно перейти на ветку **master** с помощью команды **git checkout master**, затем ввести команду:

    git merge <branch_name>
Произойдет слив всех изменений с ветки в основной документ.


### Конфликты слияния

Если при слиянии в двух версиях файла одна и та же строка напечатана по разному может возникнуть конфликт. Git не может решить за вас, какую же из версий все таки оставить и обратится за помощью. Выглядеть это будет так:

![conflict_screenshot](git_merge_conflict.jpg)

Git предложит несколько решений:

* **Accept current change** - оставить тот вариант, который существует в ветке **master**, т.е не проводить слияние.
* **Accept incoming change** - заменить на тот вариант, который существует в той ветке, которую мы сливаем.
* **Accept both changes** - сохраняет оба варианта, как исходный, так и входящий.
* **Compare changes** - сравнивает различия между текущим и входяшим вариантом

После того, как мы разрешили конфликт, слияние требуется закоммитить. Если слияние прошло без конфликтов - ничего коммитить не нужно.

### **Удаление веток**

Если ветка нам больше не нужна, мы можем ее удалить. Для этого используется команда:

    git branch -d <branch_name>